{"version":3,"file":"_layout-955ab050.js","sources":["../../src/pages/leaderboards/[game]/_layout.svelte"],"sourcesContent":["<script>\n  import Icon from 'svelte-awesome'\n  import onEvent from '../../../mixins/onEvent'\n  import onResize from '../../../mixins/onResize'\n  import Alert from '../../../components/alert.svelte'\n  import { faList, faTimes } from '@fortawesome/free-solid-svg-icons'\n  import { url, isActive } from '@sveltech/routify'\n  export let game\n  export let scoped\n\n  let button\n  let openSidebar = false\n  const { games } = scoped\n\n  onResize(() => (openSidebar = false))\n\n  onEvent('click', ({ target }) => {\n    if (target === button || button.contains(target)) return\n    openSidebar = false\n  })\n\n  $: buttonIcon = openSidebar ? faTimes : faList\n  $: fullGame = games.find((g) => g.abbreviation === game)\n</script>\n\n<div class=\"flex flex-row\">\n  {#if fullGame}\n    <button\n      id=\"sidebar-button\"\n      bind:this=\"{button}\"\n      on:click=\"{() => (openSidebar = !openSidebar)}\"\n      class:open=\"{openSidebar}\"\n    >\n      <Icon data=\"{buttonIcon}\" scale=\"2\" />\n    </button>\n    <aside class:open=\"{openSidebar}\">\n      <div class=\"categories w-64 flex flex-col\">\n        <span class=\"label text-xs text-nord0 dark:text-nord6 uppercase mb-1\">\n          Categories\n        </span>\n        {#each fullGame.categories.data as category}\n          <a\n            class=\"btn text-nord0 dark:text-nord6 text-left py-2 pl-8 px-4 m-px\n            rounded\"\n            href=\"{$url('/leaderboards/:game/:category', {\n              game: fullGame.abbreviation,\n              category: category.weblink.split('#')[1].toLowerCase(),\n            })}\"\n            class:active=\"{$isActive(`/leaderboards/${fullGame.abbreviation}/${category.weblink\n                .split('#')[1]\n                .toLowerCase()}`)}\"\n          >\n            {category.name}\n          </a>\n        {/each}\n      </div>\n    </aside>\n\n    <div\n      class=\"content flex flex-col flex-grow ml-0 md:ml-5\"\n      class:open=\"{openSidebar}\"\n    >\n      <slot scoped=\"{{ game: fullGame }}\" />\n    </div>\n  {:else}\n    <Alert type=\"danger\">Game not found</Alert>\n  {/if}\n</div>\n\n<style lang=\"scss\">\n  #sidebar-button {\n    @apply fixed;\n    @apply z-20;\n    @apply w-12;\n    @apply h-12;\n    @apply shadow-md;\n    @apply rounded;\n    @apply bg-nord15;\n    @apply text-nord6;\n    right: 0.75rem;\n    bottom: 0.75rem;\n\n    &.open {\n      @apply bg-transparent;\n      @apply shadow-none;\n      @apply text-nord15;\n    }\n\n    @screen md {\n      @apply hidden;\n    }\n  }\n\n  aside {\n    @apply fixed;\n    @apply w-screen;\n    @apply left-0;\n    @apply right-0;\n    @apply bottom-0;\n    @apply z-10;\n    @apply flex;\n    @apply flex-row;\n    @apply justify-end;\n    @apply items-end;\n    transition: transform 0.2s ease-in-out;\n    transform: translateY(100vh);\n    height: calc(100vh - var(--navbar-height));\n\n    @screen md {\n      @apply block;\n      @apply z-0;\n    }\n\n    .categories {\n      @apply w-full;\n      @apply p-3;\n      @apply shadow-2xl;\n      @apply overflow-y-scroll;\n      @apply max-h-full;\n\n      .label {\n        letter-spacing: 1px;\n      }\n      .btn {\n        &.active,\n        &:hover {\n          @apply text-gray-100;\n          @apply bg-nord10;\n          @apply shadow-md;\n        }\n      }\n\n      @screen md {\n        @apply flex-none;\n        @apply w-64;\n        overflow: initial;\n        @apply shadow-none;\n        @apply p-0;\n      }\n    }\n\n    &.open {\n      transform: translateY(0);\n    }\n\n    @screen md {\n      @apply relative;\n      @apply w-64;\n      @apply h-auto;\n      @apply bg-transparent;\n      @apply p-0;\n      transform: translateY(0);\n    }\n\n    .categories {\n      @apply sticky;\n      top: calc(var(--navbar-height) + 1.5rem);\n    }\n  }\n\n  .content {\n    @apply z-0;\n\n    &::after {\n      content: '';\n      @apply fixed;\n      @apply top-0;\n      @apply right-0;\n      @apply bottom-0;\n      @apply left-0;\n      @apply z-10;\n      @apply pointer-events-none;\n      @apply bg-black;\n      @apply opacity-0;\n      transition: opacity 0.2s ease-in-out;\n\n      @screen md {\n        @apply hidden;\n      }\n    }\n\n    &.open {\n      &::after {\n        @apply opacity-75;\n        @apply pointer-events-auto;\n      }\n    }\n  }\n\n  :root.mode-dark {\n    .categories {\n      @apply bg-nord1;\n    }\n\n    @screen md {\n      .categories {\n        @apply bg-transparent;\n      }\n    }\n  }\n\n  :root:not(mode-dark) {\n    .categories {\n      @apply bg-nord5;\n    }\n\n    @screen md {\n      .categories {\n        @apply bg-transparent;\n      }\n    }\n  }\n</style>\n"],"names":["game","ctx","categories","data","length","name","abbreviation","category","weblink","split","toLowerCase","scoped","button","openSidebar","games","onResize","onEvent","target","contains","$","buttonIcon","faTimes","faList","fullGame","find","g"],"mappings":"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"}