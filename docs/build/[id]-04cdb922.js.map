{"version":3,"file":"[id]-04cdb922.js","sources":["../../node_modules/get-youtube-id/index.js","../../src/components/video.svelte","../../src/pages/run/[id].svelte"],"sourcesContent":["\n(function (root, factory) {\n  if (typeof exports === 'object') {\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else {\n    root.getYouTubeID = factory();\n  }\n}(this, function (exports) {\n\n  return function (url, opts) {\n    if (opts == undefined) {\n      opts = {fuzzy: true};\n    }\n\n    if (/youtu\\.?be/.test(url)) {\n\n      // Look first for known patterns\n      var i;\n      var patterns = [\n        /youtu\\.be\\/([^#\\&\\?]{11})/,  // youtu.be/<id>\n        /\\?v=([^#\\&\\?]{11})/,         // ?v=<id>\n        /\\&v=([^#\\&\\?]{11})/,         // &v=<id>\n        /embed\\/([^#\\&\\?]{11})/,      // embed/<id>\n        /\\/v\\/([^#\\&\\?]{11})/         // /v/<id>\n      ];\n\n      // If any pattern matches, return the ID\n      for (i = 0; i < patterns.length; ++i) {\n        if (patterns[i].test(url)) {\n          return patterns[i].exec(url)[1];\n        }\n      }\n\n      if (opts.fuzzy) {\n        // If that fails, break it apart by certain characters and look \n        // for the 11 character key\n        var tokens = url.split(/[\\/\\&\\?=#\\.\\s]/g);\n        for (i = 0; i < tokens.length; ++i) {\n          if (/^[^#\\&\\?]{11}$/.test(tokens[i])) {\n            return tokens[i];\n          }\n        }\n      }\n    }\n\n    return null;\n  };\n\n}));\n","<script>\n  const TWITCH_REGEX = /(?:http(?:s)?:\\/\\/(?:www.)?)?twitch.tv\\/(?:(?:.+?)\\/v|videos)\\/([0-9]+)/\n  import getIdFromUrl from 'get-youtube-id'\n\n  export let autoplay = false\n  export let uri\n\n  $: youtubeID = getIdFromUrl(uri)\n  $: twitchID = TWITCH_REGEX.exec(uri)?.[1] || null\n  $: parent = window.location.hostname\n</script>\n\n<div class=\"speedsouls-video inverted\">\n  {#if youtubeID}\n    <iframe\n      title=\"YouTube video\"\n      src=\"{`https://www.youtube.com/embed/${youtubeID}`}\"\n      frameborder=\"0\"\n      scrolling=\"no\"\n      allowfullscreen=\"true\"\n    ></iframe>\n  {:else if twitchID}\n    <iframe\n      title=\"Twitch video\"\n      src=\"{`https://player.twitch.tv/?video=${twitchID}&autoplay=${autoplay}&parent=${parent}`}\"\n      frameborder=\"0\"\n      scrolling=\"no\"\n      allowfullscreen=\"true\"\n    ></iframe>\n  {:else}\n    Watch at\n    <a href=\"{uri}\">{uri}</a>\n\n    <div\n      class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\n      relative\"\n      role=\"alert\"\n    >\n      <strong class=\"font-bold\">Holy smokes!</strong>\n      <span class=\"block sm:inline\">Something seriously bad happened.</span>\n      <span class=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n        <svg\n          class=\"fill-current h-6 w-6 text-red-500\"\n          role=\"button\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n        >\n          <title>Close</title>\n          <path\n            d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2\n            1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1\n            1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758\n            3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"\n          ></path>\n        </svg>\n      </span>\n    </div>\n  {/if}\n</div>\n","<script>\n  import { getRun } from '../../api'\n  import Video from '../../components/video.svelte'\n  import Alert from '../../components/alert.svelte'\n  export let id\n\n  $: promise = getRun(id)\n</script>\n\n{#await promise}\n  Loading...\n{:then run}\n  <!-- {#if run.videos && run.videos.links.length > 0} -->\n  {#each run.videos?.links || [] as { uri }}\n    <Video {uri} />\n  {:else}\n    <Alert>There are no videos.</Alert>\n  {/each}\n{:catch error}\n  <Alert>{error}</Alert>\n{/await}\n"],"names":["this","ctx","TWITCH_REGEX","autoplay","uri","$","youtubeID","getIdFromUrl","twitchID","exec","parent","window","location","hostname","videos","links","length","id","promise","getRun"],"mappings":"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"}